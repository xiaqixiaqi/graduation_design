<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	
	<!-- mobile meta tag -->		
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<title>XIAXIA book store</title>
	
	<!-- main style -->
	<link rel="stylesheet" type="text/css" th:href="@{/style.css}" media="screen" />
	

	<!--miscellaneous-->
	<link rel="stylesheet" type="text/css" th:href="@{/css/superfish.css}" media="screen">
	<link rel="stylesheet" type="text/css" th:href="@{/css/prettyPhoto.css}" media="screen"/>
	<link rel="stylesheet" type="text/css" th:href="@{/css/font-awesome.css}" media="screen"/>
	<link rel="stylesheet" type="text/css" th:href="@{/css/audioplayer.css}" media="screen" />
	<!-- color scheme -->
	<link rel="stylesheet" type="text/css" href="/color-schemes/red/red.css" media="screen" title="red" />
	<!-- revolution slider settings -->
	<link rel="stylesheet" type="text/css" th:href="@{/rs-plugin/css/settings.css}" media="screen" />

	<!-- setting mobile environment -->		
	<link rel="stylesheet" type="text/css" th:href="@{/css/responsive.css}" media="screen" />
	
	<!--[if IE 7]>
	<link rel="stylesheet" type="text/css" th:href="@{/css/font-awesome-ie7.min.css}">
	<![endif]-->
	
	<!--[if lt IE 9]>
	<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->

	<script type="text/javascript" src="/js/jquery-1.8.3.min.js"></script>
	<script type="text/javascript" src="/js/hoverIntent.js"></script>
	<script type="text/javascript" src="/js/superfish.js"></script>
	<script type="text/javascript" src="/js/jquery.jcarousel.js"></script>
	<script type="text/javascript" src="/js/jquery.tweet.js"></script>
	<script type="text/javascript" src="/js/jflickrfeed.js"></script>
	<script type="text/javascript" src="/js/jquery.prettyPhoto.js"></script>
	<script type="text/javascript" src="/js/slides.min.jquery.js"></script>
	<script type="text/javascript" src="/js/jquery.mobilemenu.js"></script>
	<script type="text/javascript" src="/js/jquery.contact.js"></script>
	<script type="text/javascript" src="/js/jquery.preloadify.min.js"></script>
	<script type="text/javascript" src="/js/jquery.jplayer.min.js"></script>
	<script type="text/javascript" src="/js/jquery.isotope.min.js"></script>
	
	<!-- jQuery Revolution Slider -->
	<script type="text/javascript" src="/rs-plugin/js/jquery.themepunch.plugins.min.js"></script>
	<script type="text/javascript" src="/rs-plugin/js/jquery.themepunch.revolution.min.js"></script>
	
	<script type="text/javascript" src="/js/custom.js"></script>
	
	<link rel="stylesheet" type="text/css" href="/template-changer.css" media="screen"/>
	<script type="text/javascript" src="/js/jquery.cookie.js"></script>
	<script type="text/javascript" src="/js/styleswitch.js"></script>
	
	<!-- Google Web Fonts -->
	<link href='http://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700' rel='stylesheet' type='text/css'>

	<!--bootstrap-->
	<link rel="stylesheet" href="/bootstrap-4.4.1-dist/css/bootstrap.min.css"/>
	<script src="/bootstrap-4.4.1-dist/js/bootstrap.min.js"/>
	<script type="text/javascript">
		$(function()
				{
					// Call stylesheet init so that all stylesheet changing functions
					// will work.
					$.stylesheetInit();

					// This code loops through the stylesheets when you click the link with
					// an ID of "toggler" below.
					$('#toggler').bind(
							'click',
							function(e)
							{
								$.stylesheetToggle();
								return false;
							}
					);

					// When one of the styleswitch links is clicked then switch the stylesheet to
					// the one matching the value of that links rel attribute.
					$('.styleswitch').bind(
							'click',
							function(e)
							{
								$.stylesheetSwitch(this.getAttribute('rel'));
								return false;
							}
					);
				}
		);
	</script>
</head>
<body class="home">

<div id="wrapper">
	<header id="header">
		<div class="centered-wrapper">
			<div class="one-third">
				<div class="logo">
					<h2>XIAXIA book store</h2>
				</div>
			</div><!--end one-third-->
			<div class="two-third column-last">
				<nav id="navigation">
					<ul id="mainnav">
						<li><a th:href="@{/user/index}" ><span>首页</span></a></li>
						<li><a th:href="@{/user/allBooks}"><span>图书</span></a></li>
						<li><a th:href="@{/user/allBusiness}"><span>店铺</span></a></li>
						<li><a th:href="@{/user/showShoppingCart}"><span>购物车</span></a></li>
						<li><a th:href="@{/user/order?isPayment=0}"><span>我的订单</span></a></li>
						<li><a th:href="@{/user/personalData}" class="current"><span>我的</span></a></li>
						<li><a th:href="@{/user/addBusiness}"><span>加入我们</span></a></li>
					</ul>
				</nav><!--end navigation-->
			</div><!--end two-third-->
		<div class="clear"></div>			
		</div><!--end centered-wrapper-->
	</header>	

	<hr/>
	<div class="centered-wrapper">

		<div class="one-fourth col-md-2">
			<a th:href="@{/user/showShoppingCart}" class="list-group-item">购物车</a>
			<a th:href="@{/user/order?isPayment=0}" class="list-group-item">订单</a>
			<a th:href="@{/user/addEvaluate}" class="list-group-item">评价</a>
			<a th:href="@{/user/personalData}" class="list-group-item active">个人信息</a>
			<a href="#" class="list-group-item">建议</a>

		</div><!--end one-fourth-->
		<div>
			<section >
				<ul id="filters" class="option-set" >
					<li><a th:href="@{/user/personalData}">个人资料</a></li>
					<li><a th:href="@{/user/updateUserPassword?tip=}" class="selected active">修改登录密码</a></li>
					<li><a th:href="@{/user/showAllReceiptAddress}">收货地址</a></li>
				</ul>
			</section>
		</div>
		<div class="three-fourth column-last">
			<font color='red'><h5 th:utext="${tip}" th:if="${tip!=null}" style="color: red"></h5></font>
			<form class="form-horizontal" role="form" th:if="${user!=null}" th:method="post" action="/user/updatePasswording">
				<div class="form-group">
					<label for="account" class="col-sm-2 control-label">账号:</label>
					<div class="col-sm-10">
						<input type="password" class="form-control" id="account" th:placeholder="${user.username}" th:if="${user.username!=null}" disabled>
					</div>
				</div>
				<div class="form-group">
					<label for="password" class="col-sm-2 control-label">旧密码:</label>
					<div class="col-sm-10">
						<input type="password" class="form-control" id="password" name="oldPassword" placeholder="请输入旧密码">
					</div>
				</div>
				<div class="form-group">
					<label for="newPassword" class="col-sm-2 control-label">新密码:</label>
					<div class="col-sm-10">
						<input type="password" class="form-control" id="newPassword" name="newPassword" placeholder="请输入新密码">
					</div>
				</div>
				<div class="form-group">
					<label for="newPassword1" class="col-sm4 control-label">再次输入新密码:</label>
					<div class="col-sm-10">
						<input type="password" class="form-control" id="newPassword1" placeholder="请再次输入新密码" onkeyup="validate()">
					</div>
				</div>
				<div class="form-group">
					<span id="tishi"></span>
				</div>
				<script>
					function validate() {
						var pwd1 = document.getElementById("newPassword").value;
						var pwd2 = document.getElementById("newPassword1").value;
						<!-- 对比两次输入的密码 -->
						if(pwd1 == pwd2) {
							document.getElementById("tishi").innerHTML="<font color='green'>两次密码相同</font>";
							document.getElementById("submit").disabled = false;
						}
						else {
							document.getElementById("tishi").innerHTML="<font color='red'>两次密码不相同</font>";
							document.getElementById("submit").disabled = true;
						}
					}
				</script>

					<input type="submit" name="send" value="保存" id="submit" class="button red"/>
			</form>

		</div><!--three-fourth-->				
		
		<div class="clear"></div>
	</div><!--end centered-wrapper-->
	
	<div class="space"></div>
	
	<footer id="footer">

	</footer><!--end footer-->	
	
</div><!--end wrapper-->

</body> 
</html>